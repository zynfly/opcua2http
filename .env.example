# OPC UA Configuration
OPC_ENDPOINT=opc.tcp://localhost:4840
OPC_SECURITY_MODE=1
OPC_SECURITY_POLICY=None
OPC_NAMESPACE=2
OPC_APPLICATION_URI=urn:opcua2http:client

# Connection Configuration
CONNECTION_RETRY_MAX=5
CONNECTION_INITIAL_DELAY=1000
CONNECTION_MAX_RETRY=10
CONNECTION_MAX_DELAY=30000
CONNECTION_RETRY_DELAY=5000

# Web Server Configuration
SERVER_PORT=3000

# Security Configuration (Optional)
# API_KEY=your-api-key-here
# AUTH_USERNAME=admin
# AUTH_PASSWORD=password
# ALLOWED_ORIGINS=http://localhost:3000,http://example.com

# Cache Configuration (Legacy - for backward compatibility)
CACHE_EXPIRE_MINUTES=60
SUBSCRIPTION_CLEANUP_MINUTES=30

# ============================================
# Smart Cache Timing Configuration
# ============================================
# These settings control the intelligent cache behavior:
# - FRESH: age < CACHE_REFRESH_THRESHOLD_SECONDS → return cached data immediately
# - STALE: CACHE_REFRESH_THRESHOLD_SECONDS ≤ age < CACHE_EXPIRE_SECONDS → return cached data + schedule background update
# - EXPIRED: age ≥ CACHE_EXPIRE_SECONDS → synchronously read from OPC UA server

# Refresh threshold: when cache data becomes "stale" and triggers background updates
# Default: 3 seconds
CACHE_REFRESH_THRESHOLD_SECONDS=3

# Expiration time: when cache data becomes "expired" and requires synchronous refresh
# Default: 10 seconds
# Note: Must be greater than CACHE_REFRESH_THRESHOLD_SECONDS
CACHE_EXPIRE_SECONDS=10

# Cleanup interval: how often to remove expired entries from cache
# Default: 60 seconds
CACHE_CLEANUP_INTERVAL_SECONDS=60

# ============================================
# Background Update Configuration
# ============================================
# Number of worker threads for background cache updates
# Default: 3
BACKGROUND_UPDATE_THREADS=3

# Maximum size of background update queue
# Default: 1000
BACKGROUND_UPDATE_QUEUE_SIZE=1000

# Timeout for background update operations (milliseconds)
# Default: 5000 (5 seconds)
BACKGROUND_UPDATE_TIMEOUT_MS=5000

# ============================================
# Performance Tuning Configuration
# ============================================
# Maximum number of cache entries
# Default: 10000
CACHE_MAX_ENTRIES=10000

# Maximum cache memory usage (MB)
# Default: 100
CACHE_MAX_MEMORY_MB=100

# Maximum concurrent read operations
# Default: 10
CACHE_CONCURRENT_READS=10

# ============================================
# OPC UA Optimization Configuration
# ============================================
# OPC UA read operation timeout (milliseconds)
# Default: 5000 (5 seconds)
OPC_READ_TIMEOUT_MS=5000

# OPC UA batch read size
# Default: 50
OPC_BATCH_SIZE=50

# OPC UA connection pool size
# Default: 5
OPC_CONNECTION_POOL_SIZE=5

# Logging Configuration
# Options: TRACE, DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
